<div>
    <form [formGroup]="calcForm" (ngSubmit)="onSubmit()">
        <mat-form-field>
            <input matInput id="temp" type="number" step="0.01" placeholder="Temperature" formControlName="temp">
        </mat-form-field>[째{{ this.calcForm.value.unit | uppercase}}]
        <div *ngIf="!calcForm.get('temp').valid && calcForm.get('temp').touched">
            <div *ngIf="calcForm.get('temp').errors['cMin']">Temperature must be equal or greater than 26.7 째C.</div>
            <div *ngIf="calcForm.get('temp').errors['fMin']">Temperature must be equal or greater than 80 째F.</div>
            <div *ngIf="calcForm.get('temp').errors['required']">Temperature is required.</div>
        </div>
        <br>
        <mat-radio-group formControlName="unit">
            <mat-radio-button *ngFor="let unit of units" [value]="unit">
                [째{{ unit | uppercase }}]
            </mat-radio-button>
        </mat-radio-group>
        <br>
        <br>
        <mat-form-field>
            <input matInput type="number" min="0" max="100" step="0.01" placeholder="Relative Humidity" formControlName="rh">
        </mat-form-field>[%]
        
        <div *ngIf="!calcForm.get('rh').valid && calcForm.get('rh').touched">
            <div *ngIf="calcForm.get('rh').errors['min']">Relative Humidity must be greater than 0.</div>
            <div *ngIf="calcForm.get('rh').errors['max']">Relative Humidity must be lower than 100.</div>
            <div *ngIf="calcForm.get('rh').errors['required']">Relative Humidity is required.</div>
        </div>

        <br>
        <button mat-raised-button [disabled]="calcForm.invalid" color="primary" type="Submit">Compute</button>
    </form>

    <div *ngIf="hasHeatIndexValue">
        <p>In Celsius: {{ heatIndex.inC }}</p>
        <p>In F: {{ heatIndex.inF }}</p>
        <p>Status: {{ heatIndex.status }}</p>
    </div>


    <div>
        <ul>
            <li *ngFor="let hir of heatIndexRecords">{{ hir.inC }} - {{ hir.inF }} - {{ hir.status }}</li>
        </ul>
        <button (click)="onClearHIrecords()">Clear records</button>
    </div>
</div>